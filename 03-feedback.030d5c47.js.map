{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,aAGA,MAAMC,EAAUC,SAASC,cAAc,kBACjCC,EAAoB,uBA4B1B,WACE,MAAMC,GAAY,EAAAC,EAAAC,MAAKH,GACnBC,GACFG,OAAOC,QAAQJ,GAAWK,SAAQ,EAAEC,EAAMC,MACxCX,EAAQY,SAASF,GAAMC,MAAQA,CAAK,G,CA9B1CE,GAEA,MAQMC,EAAoBC,EAAAjB,GAAOkB,UARbC,IAClB,MAAMP,KAAEA,EAAIC,MAAEA,GAAUM,EAAMC,OAC9B,IAAIC,GAAW,EAAAd,EAAAC,MAAKH,GACpBgB,EAAWA,GAAsB,GACjCA,EAAST,GAAQC,GACjB,EAAAN,EAAAe,MAAKjB,EAAmBgB,EAAS,GAGoB,KAEvDnB,EAAQqB,iBAAiB,QAASP,GAYlCd,EAAQqB,iBAAiB,UAVNJ,IACjBA,EAAMK,iBACN,MACEV,UAAUW,MAAEA,EAAKC,QAAEA,IACjBP,EAAMQ,cACVC,QAAQC,IAAI,CAAEJ,MAAOA,EAAMZ,MAAOa,QAASA,EAAQb,SACnD,EAAAN,EAAAuB,QAAOzB,GACPc,EAAMQ,cAAcI,OAAO,G","sources":["src/js/03-feedback.js"],"sourcesContent":["import lodash from 'lodash';\nimport { save, load, remove } from './storage';\n\nconst formRef = document.querySelector('.feedback-form');\nconst LOCAL_STORAGE_KEY = 'feedback-form-state';\n\ninitPage();\n\nconst onFormInput = event => {\n  const { name, value } = event.target;\n  let saveData = load(LOCAL_STORAGE_KEY);\n  saveData = saveData ? saveData : {};\n  saveData[name] = value;\n  save(LOCAL_STORAGE_KEY, saveData);\n};\n\nconst throttleFormInput = lodash.throttle(onFormInput, 500);\n\nformRef.addEventListener('input', throttleFormInput);\n\nconst submitData = event => {\n  event.preventDefault();\n  const {\n    elements: { email, message },\n  } = event.currentTarget;\n  console.log({ email: email.value, message: message.value });\n  remove(LOCAL_STORAGE_KEY);\n  event.currentTarget.reset();\n};\n\nformRef.addEventListener('submit', submitData);\n\nfunction initPage() {\n  const savedData = load(LOCAL_STORAGE_KEY);\n  if (savedData) {\n    Object.entries(savedData).forEach(([name, value]) => {\n      formRef.elements[name].value = value;\n    });\n  }\n}\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$formRef","document","querySelector","$b00c40859be242c5$var$LOCAL_STORAGE_KEY","savedData","$jzQFI","load","Object","entries","forEach","name","value","elements","$b00c40859be242c5$var$initPage","$b00c40859be242c5$var$throttleFormInput","$parcel$interopDefault","throttle","event","target","saveData","save","addEventListener","preventDefault","email","message","currentTarget","console","log","remove","reset"],"version":3,"file":"03-feedback.030d5c47.js.map"}