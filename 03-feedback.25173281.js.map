{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,aAGA,MAAMC,EAAUC,SAASC,cAAc,mBA6BvC,WACE,MAAMC,GAAY,EAAAC,EAAAC,MA7BM,uBA8BpBF,GACFG,OAAOC,QAAQJ,GAAWK,SAAQ,EAAEC,EAAMC,MACxCV,EAAQW,SAASF,GAAMC,MAAQA,CAAK,G,CA9B1CE,GAEA,MAQMC,EAAoBC,EAAAhB,GAAOiB,UARbC,IAClB,MAAMP,KAAEA,EAAIC,MAAEA,GAAUM,EAAMC,OAC9B,IAAIC,GAAW,EAAAd,EAAAC,MANS,uBAOxBa,EAAWA,GAAsB,GACjCA,EAAST,GAAQC,GACjB,EAAAN,EAAAe,MATwB,sBASAD,EAAS,GAGoB,KAEvDlB,EAAQoB,iBAAiB,QAASP,GAYlCb,EAAQoB,iBAAiB,UAVNJ,IACjBA,EAAMK,iBACN,MACEV,UAAUW,MAAEA,EAAKC,QAAEA,IACjBP,EAAMQ,cACVC,QAAQC,IAAI,CAAEJ,MAAOA,EAAMZ,MAAOa,QAASA,EAAQb,SACnD,EAAAN,EAAAuB,QAtBwB,uBAuBxBX,EAAMQ,cAAcI,OAAO","sources":["src/js/03-feedback.js"],"sourcesContent":["import lodash from 'lodash';\nimport { save, load, remove } from './storage';\n\nconst formRef = document.querySelector('.feedback-form');\nconst LOCAL_STORAGE_KEY = 'feedback-form-state';\n\ninitPage();\n\nconst onFormInput = event => {\n  const { name, value } = event.target;\n  let saveData = load(LOCAL_STORAGE_KEY);\n  saveData = saveData ? saveData : {};\n  saveData[name] = value;\n  save(LOCAL_STORAGE_KEY, saveData);\n};\n\nconst throttleFormInput = lodash.throttle(onFormInput, 500);\n\nformRef.addEventListener('input', throttleFormInput);\n\nconst submitData = event => {\n  event.preventDefault();\n  const {\n    elements: { email, message },\n  } = event.currentTarget;\n  console.log({ email: email.value, message: message.value });\n  remove(LOCAL_STORAGE_KEY);\n  event.currentTarget.reset();\n};\n\nformRef.addEventListener('submit', submitData);\n\nfunction initPage() {\n  const savedData = load(LOCAL_STORAGE_KEY);\n  if (savedData) {\n    Object.entries(savedData).forEach(([name, value]) => {\n      formRef.elements[name].value = value;\n    });\n  }\n}\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$formRef","document","querySelector","savedData","$5uEKZ","load","Object","entries","forEach","name","value","elements","$945622fd0f572e60$var$initPage","$945622fd0f572e60$var$throttleFormInput","$parcel$interopDefault","throttle","event","target","saveData","save","addEventListener","preventDefault","email","message","currentTarget","console","log","remove","reset"],"version":3,"file":"03-feedback.25173281.js.map"}